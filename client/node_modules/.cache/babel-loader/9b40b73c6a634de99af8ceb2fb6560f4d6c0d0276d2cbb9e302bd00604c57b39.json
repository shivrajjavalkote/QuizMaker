{"ast":null,"code":"import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuizList(_ref){let{navigate}=_ref;const[quizzes,setQuizzes]=useState([]);const[error,setError]=useState('');useEffect(()=>{const fetchQuizzes=async()=>{try{const response=await axios.get('/api/quizzes');setQuizzes(response.data);setError('');}catch(err){setError('Failed to load quizzes. Please ensure the backend is running.');console.error('Error fetching quizzes:',err);}};fetchQuizzes();},[]);const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this quiz?')){try{await axios.delete(`/api/quizzes/${id}`);setQuizzes(quizzes.filter(quiz=>quiz._id!==id));setError('');}catch(err){setError('Failed to delete quiz. Please try again.');console.error('Error deleting quiz:',err);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:\"Quiz List\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 hover:shadow-lg transform hover:-translate-y-1 transition mb-6\",onClick:()=>navigate('createQuiz'),\"aria-label\":\"Create a new quiz\",children:\"Create New Quiz\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-4\",children:\"Available Quizzes\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:quizzes.map(quiz=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-gray-50 p-4 rounded-lg shadow hover:shadow-lg transform hover:-translate-y-1 transition\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-blue-600 font-medium hover:underline\",onClick:e=>{e.preventDefault();navigate('takeQuiz',quiz,new Array(quiz.questions.length).fill(''));},children:quiz.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transform hover:-translate-y-1 transition\",onClick:()=>navigate('createQuiz',quiz),\"aria-label\":`Edit ${quiz.title}`,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transform hover:-translate-y-1 transition\",onClick:()=>handleDelete(quiz._id),\"aria-label\":`Delete ${quiz.title}`,children:\"Delete\"})]})]},quiz._id))})]});}export default QuizList;","map":{"version":3,"names":["useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","QuizList","_ref","navigate","quizzes","setQuizzes","error","setError","fetchQuizzes","response","get","data","err","console","handleDelete","id","window","confirm","delete","filter","quiz","_id","children","className","onClick","map","href","e","preventDefault","Array","questions","length","fill","title"],"sources":["C:/Users/javal/Downloads/3D-Gallary-main/mern-quiz-platform/client/src/components/QuizList.jsx"],"sourcesContent":["\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction QuizList({ navigate }) {\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchQuizzes = async () => {\r\n      try {\r\n        const response = await axios.get('/api/quizzes');\r\n        setQuizzes(response.data);\r\n        setError('');\r\n      } catch (err) {\r\n        setError('Failed to load quizzes. Please ensure the backend is running.');\r\n        console.error('Error fetching quizzes:', err);\r\n      }\r\n    };\r\n    fetchQuizzes();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this quiz?')) {\r\n      try {\r\n        await axios.delete(`/api/quizzes/${id}`);\r\n        setQuizzes(quizzes.filter((quiz) => quiz._id !== id));\r\n        setError('');\r\n      } catch (err) {\r\n        setError('Failed to delete quiz. Please try again.');\r\n        console.error('Error deleting quiz:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Quiz List</h2>\r\n      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n      <button\r\n        className=\"bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 hover:shadow-lg transform hover:-translate-y-1 transition mb-6\"\r\n        onClick={() => navigate('createQuiz')}\r\n        aria-label=\"Create a new quiz\"\r\n      >\r\n        Create New Quiz\r\n      </button>\r\n      <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Available Quizzes</h3>\r\n      <ul className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {quizzes.map((quiz) => (\r\n          <li key={quiz._id} className=\"bg-gray-50 p-4 rounded-lg shadow hover:shadow-lg transform hover:-translate-y-1 transition\">\r\n            <a\r\n              href=\"#\"\r\n              className=\"text-blue-600 font-medium hover:underline\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                navigate('takeQuiz', quiz, new Array(quiz.questions.length).fill(''));\r\n              }}\r\n            >\r\n              {quiz.title}\r\n            </a>\r\n            <div className=\"flex gap-4 mt-4\">\r\n              <button\r\n                className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transform hover:-translate-y-1 transition\"\r\n                onClick={() => navigate('createQuiz', quiz)}\r\n                aria-label={`Edit ${quiz.title}`}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                className=\"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transform hover:-translate-y-1 transition\"\r\n                onClick={() => handleDelete(quiz._id)}\r\n                aria-label={`Delete ${quiz.title}`}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuizList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}